!function(){var s,a,e,n=2,i=!1,l=!1;bindEventFuns={showMoreInfo:function(){var s="fe",a="",t=$(".list-ul");return s=$(this).data("marking"),a="/api/course/listajax",i?!1:(loadImg(!0),l?!1:(l=!0,void e({url:a,type:"get",data:{page:n,c:s},successCall:function(s){return l=!1,loadImg(!1),0==s.data?(i=!0,$(".loading-more").addClass("hide"),!1):(n++,void bindEventFuns.generateHtml(s,t))}})))},generateHtml:function(s,a){var e=[],n="//coding.m.imooc.com/";1==s.status&&$.each(s.data,function(s,a){e.push('<li class="c-item-li">'https://m.imooc.com/static/wap/static/js/course/),1==a.type?e.push('<a href="../../../../../learn/'+a.id+'.htm"/*tpa=https://m.imooc.com/learn/'+a.id+'*/>'):2==a.type&&e.push('<a href="'+n+"classindex.html?cid="+a.id+'">'),e.push('<div class="left-img" style="background-image: url('+a.pic+')">'),userInfo&&userInfo.uid>0&&a.learn_rate>-1&&e.push(100==a.learn_rate?'<div class="c-card-learning"><i class="imwap-check"></i></div>':'<div class="c-card-learning">'+a.learn_rate+"%</div>"),e.push("</div>"),e.push('<div class="right-c">'),e.push('<h2 class="r-title">'),e.push(a.name),e.push("</h2>"),e.push('<p class="r-info">'https://m.imooc.com/static/wap/static/js/course/),1==a.type?e.push('<span class="r-info-t">免费课程</span>'):(a.type=2)&&e.push('<span class="r-info-t">实战课程</span>'),e.push('<span class="r-info-l">'+a.level+" · "+a.numbers+"人在学 </span>"),e.push("</p>"),e.push("</div>"),e.push("</li>")}),a.append(e.join(""))}},a=function(){$(".js-show-more").on("click",bindEventFuns.showMoreInfo)},loadImg=function(s){var a='<img src="../../common/img/refresh.gif"/*tpa=https://m.imooc.com/static/wap/static/common/img/refresh.gif*/ alt="" class="load-img" />';s?($(".loading-more").addClass("hide"),$(".loding-m-wrap").html(a)):($(".loading-more").removeClass("hide"),$(".loding-m-wrap").html(""))},s=function(){a()},e=function(s){$.ajax({type:s.type||"post",url:s.url,data:s.data,dataType:s.dataType||"json",success:function(a){s&&s.successCall?s.successCall(a):alert(0==a.error?a.msg?a.msg:"操作成功！":a.msg?a.msg:"操作失败！")},error:function(a){s&&s.errorCall?s.errorCall():(alert(a.msg?a.msg:"通信失败，稍后再试！"),setTimeout(function(){location.reload()},1500))}})},s()}();