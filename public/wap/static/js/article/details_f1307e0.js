$(function(){prettyPrint();window.location.href;$(document).on("click",".js-article-upvote",function(){$.ajax({url:"/wap/api/article/articleupvote?article_id="+article_id,type:"get",dataType:"json",success:function(e){if(1e3==e.data.upvote.errorCode){$(".js-article-upvote").removeClass("active js-article-upvote");var t=parseInt($(".js-upvote-number").text())+1;$(".js-upvote-number").text(t);var a='<dd><img src="'+$(".js-header-avator img").attr("src")+'"></dd>';$(".js-upvote-list").prepend(a)}else userInfo?alert(e.data.upvote.errorDesc):window.location.href="../../../../../account/login.htm"/*tpa=https://m.imooc.com/account/login*/},error:function(){alert("系统错误，请稍后重试！")}})}),$(document).on("click",".js-comment-upvote",function(){var e=$(this),t=$(this).attr("data-id");$.ajax({url:"/wap/api/article/commentupvote?cid="+t,type:"get",dataType:"json",success:function(t){if(1e3==t.data.data.errorCode){e.addClass("active"),e.removeClass("js-comment-upvote");var a=parseInt(e.find(".js-comment-num").text())+1;e.find(".js-comment-num").text(a)}else userInfo?alert(t.data.upvote.errorDesc):window.location.href="../../../../../account/login.htm"/*tpa=https://m.imooc.com/account/login*/},error:function(){alert("系统错误，请稍后重试！")}})}),$(document).on("click",".js-ta-course",function(){$.ajax({url:"/wap/api/article/teachercourse?article_id="+article_id,type:"get",dataType:"json",success:function(e){if(1e3==e.data.teachercourse.errorCode){var t=["","入门","初级","中级","高级","专业"],a=e.data.teachercourse.data||[],c='<div class="mengban js-mengban"><div class="mengban-content"><p class="ta-tit">TA的实战</p><div class="course-list">';a.forEach(function(e){c+='<a href="http://coding.imooc.com/class/'+e.id+".html"+e.channelurl+'" target="_blank" class="list-item">                                    <img src="'+e.pic+'" class="course-pic">                                    <div class="item-right">                                        <p class="item-name">'+e.name+'</p>                                        <p class="item-info">                                            <span>¥'+e.price+'</span>                                            <span class="item-level">'+t[e.easy_type]+'</span>                                            <span class="item-number"><i class="imwap-peaple"></i>'+e.numbers+'</span>                                        </p>                                    </div>                                    <div class="line-row"></div>                                </a>'}),c+='</div><a href="javascript:void(0);" class="close js-close">关闭</a></div></div>',$("body").append(c)}else alert(e.data.teachercourse.errorDesc)},error:function(){alert("系统错误，请稍后重试！")}})}),$(document).on("click",".js-close",function(){$(".js-mengban").remove()}),$(document).on("click",".js-collection",function(){var e=0;$(this).hasClass("active")&&(e=1),$.ajax({url:"/wap/api/article/articlecollect?article_id="+article_id+"&type="+e,type:"get",dataType:"json",success:function(t){1e3==t.data.articlecollect.errorCode?0==e?($(".js-collection").addClass("active"),$.msg("success","收藏成功~")):($(".js-collection").removeClass("active"),$.msg("success","已取消收藏")):userInfo?$.msg("error",t.data.articlecollect.errorDesc):window.location.href="../../../../../account/login.htm"/*tpa=https://m.imooc.com/account/login*/}})}),$(document).on("click",".js-tagarticle",function(){window.location.href="../../../../../article/tagarticle-typeid=.htm"/*tpa=https://m.imooc.com/article/tagarticle?typeid=*/+$(this).attr("data-id")+"&tagname="+encodeURIComponent($(this).attr("data-name"))})});